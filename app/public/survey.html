<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Friend Finder</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Yesteryear&display=swap" rel="stylesheet">
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!-- [if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif] -->
  <style>
    body {
      font-family: Montserrat;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="jumbotron jumbotron-fluid">
      <div class="container">
        <div class='display-4'>About you</div>
        <div>Please answer the questions..</div>
        <hr class="my-4">
        <input class="aboutMe form-control form-control-lg" type="text" placeholder="Your name.." id="name">
        <br>
        <input class="aboutMe form-control" type="text" placeholder="Please proivde a link to a depiction of yourself.."
          id='pic-link'>
        <hr class="my-4">

        <!-- Question 1 -->
        <div class="form-group">
          <h1>Question 1</h1>
          <label for="exampleFormControlSelect1">QuestionQuestionQuestionQuesion</label>
          <select class="questionSelector form-control" id="question1">
            <option value=''>------</option>
            <option value='1'>1 - I disagree.</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 - I agree.</option>
          </select>
        </div>
        <!-- Question 2 -->
        <div class="form-group">
          <h1>Question 2</h1>
          <label for="exampleFormControlSelect1">QuestionQuestionQuestionQuesion</label>
          <select class="questionSelector form-control" id="question2">
            <option value=''>------</option>
            <option value='1'>1 - I disagree.</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 - I agree.</option>
          </select>
        </div>
        <!-- Question 3 -->
        <div class="form-group">
          <h1>Question 3</h1>
          <label for="exampleFormControlSelect1">QuestionQuestionQuestionQuesion</label>
          <select class="questionSelector form-control" id="question3">
            <option value=''>------</option>
            <option value='1'>1 - I disagree.</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 - I agree.</option>
          </select>
        </div>
        <!-- Question 4 -->
        <div class="form-group">
          <h1>Question 4</h1>
          <label for="exampleFormControlSelect1">QuestionQuestionQuestionQuesion</label>
          <select class="questionSelector form-control" id="question4">
            <option value=''>------</option>
            <option value='1'>1 - I disagree.</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 - I agree.</option>
          </select>
        </div>
        <!-- Question 5 -->
        <div class="form-group">
          <h1>Question 5</h1>
          <label for="exampleFormControlSelect1">QuestionQuestionQuestionQuesion</label>
          <select class="questionSelector form-control" id="question5">
            <option value=''>------</option>
            <option value='1'>1 - I disagree.</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 - I agree.</option>
          </select>
        </div>
        <!-- Question 6 -->
        <div class="form-group">
          <h1>Question 6</h1>
          <label for="exampleFormControlSelect1">QuestionQuestionQuestionQuesion</label>
          <select class="questionSelector form-control" id="question6">
            <option value=''>------</option>
            <option value='1'>1 - I disagree.</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 - I agree.</option>
          </select>
        </div>
        <!-- Question 7 -->
        <div class="form-group">
          <h1>Question 7</h1>
          <label for="exampleFormControlSelect1">QuestionQuestionQuestionQuesion</label>
          <select class="questionSelector form-control" id="question7">
            <option value=''>------</option>
            <option value='1'>1 - I disagree.</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 - I agree.</option>
          </select>
        </div>
        <!-- Question 1 -->
        <div class="form-group">
          <h1>Question 8</h1>
          <label for="exampleFormControlSelect1">QuestionQuestionQuestionQuesion</label>
          <select class="questionSelector form-control" id="question8">
            <option value=''>------</option>
            <option value='1'>1 - I disagree.</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 - I agree.</option>
          </select>
        </div>
        <!-- Question 1 -->
        <div class="form-group">
          <h1>Question 9</h1>
          <label for="exampleFormControlSelect1">QuestionQuestionQuestionQuesion</label>
          <select class="questionSelector form-control" id="question9">
            <option value=''>------</option>
            <option value='1'>1 - I disagree.</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 - I agree.</option>
          </select>
        </div>
        <!-- Question 1 -->
        <div class="form-group">
          <h1>Question 10</h1>
          <label for="exampleFormControlSelect1">QuestionQuestionQuestionQuesion</label>
          <select class="questionSelector form-control" id="question10">
            <option value=''>------</option>
            <option value='1'>1 - I disagree.</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 - I agree.</option>
          </select>
        </div>
        <button id='submit' type="button" class="btn btn-dark">Submit</button>
      </div>
    </div>
  </div>


  <!-- jQuery (necessary for Bootstrap' s JavaScript plugins) -->
  <script src=" https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"> </script>
  <!-- Include all
        compiled plugins (below), or include individual files as needed -->
  <script src="js/bootstrap.min.js"></script>

  <!-- ---------------------------------------------------- -->
  <!-- Send data to the Server -->
  <!-- ---------------------------------------------------- -->
  <script type='text/javascript'>
    $('#submit').on('click', function (event) {
      event.preventDefault();
      // ////////////////////
      // validation function
      // ////////////////////
      function validation() {
        // define variable that tells us true/false, starts as true
        var isValid = true;
        // select name/pic boxes
        $('.aboutMe').each(function () {
          // test to see if the value of either is blank
          if ($(this).val() === "") {
            isValid = false;
          } else {
            isValid = true;
          }
        });
        // same thing for question selectors
        $('.questionSelector').each(function () {
          if ($(this).val() === "") {
            isValid = false;
          } else {
            isValid = true;
          }
        })
        console.log(isValid);
        return isValid;
      }
      // ///////////////////////////////
      // upon successful validation.. //
      // ///////////////////////////////
      // begin survey object creation //
      // ///////////////////////////////


      if (validation()) {


        var surveyData = {
          name: $('#name').val(),
          photo: $('#pic-link').val(),
          scores: [
            $('#question1').val(),
            $('#question2').val(),
            $('#question3').val(),
            $('#question4').val(),
            $('#question5').val(),
            $('#question6').val(),
            $('#question7').val(),
            $('#question8').val(),
            $('#question9').val(),
            $('#question10').val(),
          ]
        }
        console.log(surveyData);
        // ////////////////////////
        // Begin post function ////
        // ////////////////////////
        $.post('/api/friends', surveyData,
          function (data) {
            if (data) {
              alert('Success...')

              // Clear Form upon success
              $('name').val(''),
                $('#pic-link').val('')
              $('#question1').val(''),
                $('#question2').val(''),
                $('#question3').val(''),
                $('#question4').val(''),
                $('#question5').val(''),
                $('#question6').val(''),
                $('#question7').val(''),
                $('#question8').val(''),
                $('#question9').val(''),
                $('#question10').val('')
            }
          })
      }
      else {
        alert('Please finish the whole form..')
      }
    });

  </script>

</body>

</html>